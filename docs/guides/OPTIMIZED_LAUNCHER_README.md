# 优化的启动程序说明

## 概述
我们为您提供了优化的启动程序 `optimized_launcher.bat`，它整合了原有两个启动脚本的功能并进行了多项改进。

## 主要改进

### 1. 功能整合
- 合并了 `launcher.bat` 和 `启动后端服务.bat` 的功能
- 统一的服务管理界面
- 更好的错误处理和状态检查

### 2. 新增功能
- 新增对本地llama.cpp图像生成服务的支持（端口5004）
- 更全面的服务健康检查
- 增强的桌面快捷方式创建功能
- 延长了交互等待时间

### 3. 用户体验改进
- 更清晰的状态显示
- 更详细的启动过程反馈
- 改进的错误提示信息

## 使用方法

### 启动服务
1. 双击 `optimized_launcher.bat` 运行
2. 程序会自动检查并启动所有必要的服务
3. 浏览器将自动打开Web UI

### 管理服务
运行后可以选择以下操作：
- **D**: 创建桌面快捷方式
- **S**: 停止所有服务
- **R**: 重启所有服务
- **Q**: 退出程序

## 端口映射
- `11434`: Ollama 服务
- `5001`: 主API服务
- `5002`: 摘要API服务
- `5003`: 视觉API服务
- `5004`: 本地llama.cpp图像生成服务
- `8080`: Web界面

## 清理说明
以下测试文件已被清理：
- `test_frontend_integration.py`
- `test_landscape_generation.py`
- `test_llama_cpp_image.py`
- `test_outputs/` 目录及其内容

这些文件主要用于开发和测试，在生产环境中不再需要。

## 系统要求
- Windows 10/11
- Python 3.8+
- 已安装的Ollama服务
- 相关Python依赖包

## 注意事项
- 启动过程中请耐心等待，首次启动可能需要较长时间
- 关闭启动程序窗口不会停止后台服务
- 如需停止服务，请使用程序内的停止功能